<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Farmácia JS</title>
	</head>
	<body>
		<h1>Farmácia JS</h1>

		<form>
			<div>
				<label for="medicamento">Medicamento:</label>
				<input type="text" id="medicamento" required />
			</div>

			<div>
				<label for="preco">Preço:</label>
				<input type="number" id="preco" step="0.01" required />
			</div>

			<div>
				<button type="submit">Mostrar Promoção</button>
			</div>
		</form>

		<h3 id="promocaoTitulo"></h3>
		<p id="promocaoDetalhes"></p>

		<script>
			function mostrarPromocao(frm) {
				const data = {
					medicamento: frm.medicamento.value,
					preco: Number(frm.preco.value)
				}

				if (data.medicamento === '' || data.preco === 0 || isNaN(data.preco)) {
					alert('Por favor, preencha corretamente os dados do medicamento.')
					frm.medicamento.focus()
					return
				}
				const precoDuasUnidades = (data.preco * 2).toFixed(2)
				const precoPromocao = Math.floor(precoDuasUnidades)

				document.getElementById(
					'promocaoTitulo'
				).textContent = `Promoção de ${data.medicamento}`

				document.getElementById(
					'promocaoDetalhes'
				).textContent = `Leve 2 por apenas R$ ${precoPromocao.toFixed(2)}`
			}

			const frm = document.querySelector('form')

			frm.addEventListener('submit', (e) => {
				e.preventDefault()
				mostrarPromocao(frm)
			})
		</script>
	</body>
</html>
